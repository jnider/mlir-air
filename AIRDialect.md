<!-- Autogenerated by mlir-tblgen; don't manually edit -->
# 'air' Dialect

The `air` dialect is used to describe cooperating arrays of AIE cores
and the bulk data movement between AIE cores and a memory hierarchy.
Its primary features are collective operations for executing work on
groups of AIE cores and multi-dimensional DMA copy operations.

### Herd
A `herd` in the `air` dialect is a one or two dimensional array of adjacent
AIE cores executing the same code region. A `herd` operation defines an
iteration space representing the spatial parallelism of the array of cores.
Code within a `herd` can directly access L1 memory but must use DMA
operations or channels to access other levels of memory.

### Partition
A `partition` in the `air` dialect represents a physically contiguous
grouping of AIE cores, L1 and L2 memory resources, and controllers
sufficient to implement the herds, memory allocations, data movement,
and synchronization contained in the `partition` code region. Code within
a `partition` can allocate L2 memory but must use DMA operations or
channels to access other levels of memory. A `partition` can optionally
define an iteration space which represents a spatial unroll of the
`partition`. That is, it allows the `partition` to be "stamped out" multiple
times, also multiplying the physical resources required by the `partition`.

### Launch
A `launch` in the `air` dialect groups `partitions` and L3 allocations that
must be co-resident within a device when execution of the `launch`
code region begins. A `launch` operation can optionally define a parallel
iteration space.

### Memory Hierarchy
There are three levels of memory in the air dialect:
- `L1` memory corresponds to the AIE tile memory.
- `L2` memory corresponds to pools of on-device memory such as of URAMs,
  memory tiles, or other memory resources.
- `L3` memory corresponds to off-chip memory such as DDR.
Each memory space has an enum defined in the air::MemorySpace namespace.

### DMA Memory Copies
The `dma_memcpy_nd` operation in `air` dialect describes asynchronous
multi-dimensional copy operations between levels of memory.

### Channels
A `channel` in the `air` dialect is a representation of data movement...

### Asynchronous operations
Operations in air dialect can be asynchronous. An asynchronous token
interface is provided to synchronize between operations.


[TOC]

## Operation definition

### `air.alloc` (xilinx::air::AllocOp)

alloc operator


Syntax:

```
operation ::= `air.alloc` custom<AsyncDependencies>(type($async_token), $async_dependencies) attr-dict `:` type($result)
```

Allocate memory

Interfaces: air_AsyncOpInterface

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `async_dependencies` | async token type

#### Results:

| Result | Description |
| :----: | ----------- |
| `async_token` | async token type
| `result` | memref of any type values

### `air.channel.get` (xilinx::air::ChannelGetOp)

Get for air channels.


Syntax:

```
operation ::= `air.channel.get` custom<AsyncDependencies>(type($async_token), $async_dependencies)
              $chan_name `[` ($indices^)? `]`
              `(` $dst `[` ($dst_offsets^)? `]``[` ($dst_sizes^)? `]``[` ($dst_strides^)? `]` `)` attr-dict `:`
              `(` type($dst) `)`
```

Experimental operation to represent copying from a channel to a memref.

Traits: AttrSizedOperandSegments

Interfaces: air_AsyncOpInterface, air_ChannelInterface

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
| `chan_name` | ::mlir::FlatSymbolRefAttr | flat symbol reference attribute

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `async_dependencies` | async token type
| `indices` | index
| `dst` | memref of any type values
| `dst_offsets` | index
| `dst_sizes` | index
| `dst_strides` | index

#### Results:

| Result | Description |
| :----: | ----------- |
| `async_token` | async token type

### `air.channel` (xilinx::air::ChannelOp)

Channel for data movement.


Syntax:

```
operation ::= `air.channel` $sym_name $size attr-dict
```

Operation to represent a channel as a point-to-point connection between two memrefs. The array
following the channel name symbol represents the channel sizes. If each channel is broadcasting
to multiple destinations, then the optional 'broadcast_shape' attribute annotates the output 
sizes after broadcasting.

Example:

```mlir
air.channel @channel_0 [1, 1] {broadcast_shape = [1, 4]}
```

Interfaces: Symbol

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
| `sym_name` | ::mlir::StringAttr | string attribute
| `size` | ::mlir::ArrayAttr | 64-bit integer array attribute

### `air.channel.put` (xilinx::air::ChannelPutOp)

Push for air channels.


Syntax:

```
operation ::= `air.channel.put` custom<AsyncDependencies>(type($async_token), $async_dependencies)
              $chan_name `[` ($indices^)? `]`
              `(` $src `[` ($src_offsets^)? `]``[` ($src_sizes^)? `]``[` ($src_strides^)? `]` `)` attr-dict `:`
              `(` type($src) `)`
```

Experimental operation to represent copying data from a memref to a channel.

Traits: AttrSizedOperandSegments

Interfaces: air_AsyncOpInterface, air_ChannelInterface

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
| `chan_name` | ::mlir::FlatSymbolRefAttr | flat symbol reference attribute

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `async_dependencies` | async token type
| `indices` | index
| `src` | memref of any type values
| `src_offsets` | index
| `src_sizes` | index
| `src_strides` | index

#### Results:

| Result | Description |
| :----: | ----------- |
| `async_token` | async token type

### `air.dealloc` (xilinx::air::DeallocOp)

dealloc operator


Syntax:

```
operation ::= `air.dealloc` custom<AsyncDependencies>(type($async_token), $async_dependencies) $memref attr-dict `:` type($memref)
```

Deallocate memory

Interfaces: air_AsyncOpInterface

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `async_dependencies` | async token type
| `memref` | memref of any type values

#### Results:

| Result | Description |
| :----: | ----------- |
| `async_token` | async token type

### `air.dma_memcpy_nd` (xilinx::air::DmaMemcpyNdOp)

dma operator


Syntax:

```
operation ::= `air.dma_memcpy_nd` custom<AsyncDependencies>(type($async_token), $async_dependencies)
              `(` $dst `[` ($dst_offsets^)? `]``[` ($dst_sizes^)? `]``[` ($dst_strides^)? `]` `,`
              $src `[` ($src_offsets^)? `]``[` ($src_sizes^)? `]``[` ($src_strides^)? `]` `)`  attr-dict `:`
              `(` type($dst) `,` type($src) `)`
```

dma operator

Traits: AttrSizedOperandSegments

Interfaces: air_AsyncOpInterface, air_DmaMemcpyInterface

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `async_dependencies` | async token type
| `dst` | memref of any type values
| `dst_offsets` | index
| `dst_sizes` | index
| `dst_strides` | index
| `src` | memref of any type values
| `src_offsets` | index
| `src_sizes` | index
| `src_strides` | index

#### Results:

| Result | Description |
| :----: | ----------- |
| `async_token` | async token type

### `air.execute` (xilinx::air::ExecuteOp)

Asynchronous code region


Syntax:

```
operation ::= `air.execute` (` ``[` $async_dependencies^ `]`)?
              (`->` `(` type($results)^ `)`)? regions attr-dict
```

Defines a code region to be dispatched asynchronously at runtime. All operations in
the region must be executed sequentially.

Traits: SingleBlockImplicitTerminator<ExecuteTerminatorOp>

Interfaces: air_AsyncOpInterface

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `async_dependencies` | async token type

#### Results:

| Result | Description |
| :----: | ----------- |
| `async_token` | async token type
| `results` | any type

### `air.execute_terminator` (xilinx::air::ExecuteTerminatorOp)

Terminator for air execute.


Syntax:

```
operation ::= `air.execute_terminator` attr-dict ($results^ `:` type($results))?
```

A terminator operation for code regions that appear in the body of
`air.execute` operation. The operation takes variable number of
operands and produces no results. The operand number and types must
match the signature of the `air.execute` that contains the operation.

Traits: AlwaysSpeculatableImplTrait, HasParent<ExecuteOp>, ReturnLike, Terminator

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)

Effects: MemoryEffects::Effect{}

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `results` | any type

### `air.herd` (xilinx::air::HerdOp)

Herd

Define and run a 1D or 2D array of tiles as an AIR Herd.

Traits: AffineScope, AttrSizedOperandSegments, IsolatedFromAbove, SingleBlockImplicitTerminator<HerdTerminatorOp>

Interfaces: air_AsyncOpInterface, air_HierarchyInterface

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
| `symbol` | ::mlir::SymbolRefAttr | symbol reference attribute

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `async_dependencies` | async token type
| `sizes` | index
| `herd_operands` | any type

#### Results:

| Result | Description |
| :----: | ----------- |
| `async_token` | async token type

### `air.pipeline` (xilinx::air::HerdPipelineOp)

Define a pipeline


Syntax:

```
operation ::= `air.pipeline` attr-dict-with-keyword $body
```

Define a pipeline within an AIR Herd.

Traits: AffineScope, HasParent<HerdOp>

### `air.herd_terminator` (xilinx::air::HerdTerminatorOp)

Terminator for air herd regions.


Syntax:

```
operation ::= `air.herd_terminator` attr-dict
```

A terminator operation for the body of `air.herd` operations.
`air.herd` operations are not expected to return any value so the
terminator takes no operands.

Traits: AlwaysSpeculatableImplTrait, HasParent<HerdOp>, Terminator

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)

Effects: MemoryEffects::Effect{}

### `air.launch` (xilinx::air::LaunchOp)

Launch

Launch

Traits: AffineScope, AttrSizedOperandSegments, IsolatedFromAbove, SingleBlockImplicitTerminator<LaunchTerminatorOp>

Interfaces: air_AsyncOpInterface, air_HierarchyInterface

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
| `symbol` | ::mlir::SymbolRefAttr | symbol reference attribute

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `async_dependencies` | async token type
| `sizes` | index
| `launch_operands` | any type

#### Results:

| Result | Description |
| :----: | ----------- |
| `async_token` | async token type

### `air.launch_terminator` (xilinx::air::LaunchTerminatorOp)

Terminator for `air.launch`.


Syntax:

```
operation ::= `air.launch_terminator` attr-dict
```

A terminator operation for the body of `air.launch` operations.
`air.launch` operations are not expected to return any value so the
terminator takes no operands.

Traits: AlwaysSpeculatableImplTrait, HasParent<LaunchOp>, Terminator

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)

Effects: MemoryEffects::Effect{}

### `air.partition` (xilinx::air::PartitionOp)

Partition

Partition

Traits: AffineScope, AttrSizedOperandSegments, IsolatedFromAbove, SingleBlockImplicitTerminator<PartitionTerminatorOp>

Interfaces: air_AsyncOpInterface, air_HierarchyInterface

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
| `symbol` | ::mlir::SymbolRefAttr | symbol reference attribute

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `async_dependencies` | async token type
| `sizes` | index
| `partition_operands` | any type

#### Results:

| Result | Description |
| :----: | ----------- |
| `async_token` | async token type

### `air.partition_terminator` (xilinx::air::PartitionTerminatorOp)

Terminator for air partition regions.


Syntax:

```
operation ::= `air.partition_terminator` attr-dict
```

A terminator operation for the body of `air.partition` operations.
`air.partition` operations are not expected to return any value so the
terminator takes no operands.

Traits: AlwaysSpeculatableImplTrait, HasParent<PartitionOp>, Terminator

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)

Effects: MemoryEffects::Effect{}

### `air.pipeline.get` (xilinx::air::PipelineGetOp)

Get for air pipeline stages.


Syntax:

```
operation ::= `air.pipeline.get` $src0 $src1 attr-dict `:` type($src0) `,` type($src1) `->` type($results)
```

Experimental operation to represent copying data from another tile.
Currently used internally by air-to-aie pass during pipeline lowering.

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `src0` | any type
| `src1` | any type

#### Results:

| Result | Description |
| :----: | ----------- |
| `results` | any type

### `air.pipeline.put` (xilinx::air::PipelinePutOp)

Put for air pipeline stages.


Syntax:

```
operation ::= `air.pipeline.put` $dst0 $dst1 (`,` $opers^)? attr-dict `:` type($dst0) `,` type($dst1) (`,` type($opers)^)?
```

Experimental operation to represent copying data to another tile.
Currently used internally by air-to-aie pass during pipeline lowering.

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `dst0` | any type
| `dst1` | any type
| `opers` | any type

### `air.pipeline.stage` (xilinx::air::PipelineStageOp)

Pipeline stage

Pipeline stage.

Traits: HasParent<HerdPipelineOp>

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `opers` | any type

#### Results:

| Result | Description |
| :----: | ----------- |
| `results` | any type

### `air.pipeline.terminator` (xilinx::air::PipelineTerminatorOp)

Terminator for air pipeline regions.


Syntax:

```
operation ::= `air.pipeline.terminator` attr-dict ($opers^ `:` type($opers))?
```

A terminator operation for regions that appear in the body of
`air.pipeline` operation.

Traits: AlwaysSpeculatableImplTrait, HasParent<HerdPipelineOp>, Terminator

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)

Effects: MemoryEffects::Effect{}

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `opers` | any type

### `air.pipeline.yield` (xilinx::air::PipelineYieldOp)

Yield for air pipeline stages.


Syntax:

```
operation ::= `air.pipeline.yield` ($opers^)? attr-dict (`:` type($opers)^)?
```

A terminator operation for regions that appear in the body of
`air.pipeline.stage` operation. The operation takes variable number of
operands and produces no results. The operand number and types must
match the signature of the `air.pipeline` that contains the operation.

Traits: AlwaysSpeculatableImplTrait, HasParent<PipelineStageOp>, ReturnLike, Terminator

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)

Effects: MemoryEffects::Effect{}

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `opers` | any type

### `air.wait_all` (xilinx::air::WaitAllOp)

wait for all operator


Syntax:

```
operation ::= `air.wait_all` custom<AsyncDependencies>(type($async_token), $async_dependencies) attr-dict
```

Wait for all async tokens before preceding.

Interfaces: air_AsyncOpInterface

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `async_dependencies` | async token type

#### Results:

| Result | Description |
| :----: | ----------- |
| `async_token` | async token type

## Type constraint definition

### async token type



